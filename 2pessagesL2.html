<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EDUNEST A1 Reading Test</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #fff 0%, #ffe5e5 100%);
            overflow: hidden;
        }

        /* Welcome Screen */
        #welcomeScreen {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);
        }

        .welcome-card {
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            text-align: center;
            max-width: 500px;
            width: 90%;
            border: 3px solid #ff4444;
        }

        .logo {
            font-size: 48px;
            font-weight: bold;
            color: #ff4444;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            font-size: 18px;
            color: #666;
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 25px;
            text-align: left;
        }

        .input-group label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
            font-size: 16px;
        }

        .input-group input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ff4444;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s;
        }

        .input-group input:focus {
            outline: none;
            border-color: #cc0000;
            box-shadow: 0 0 10px rgba(255, 68, 68, 0.3);
        }

        .start-btn {
            width: 100%;
            padding: 15px;
            background: #ff4444;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .start-btn:hover:not(:disabled) {
            background: #cc0000;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 68, 68, 0.4);
        }

        .start-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .error-message {
            color: #ff4444;
            font-size: 14px;
            margin-top: 10px;
            display: none;
        }

        .creator-label {
            margin-top: 30px;
            font-size: 12px;
            color: #999;
            font-style: italic;
        }

        /* Test Interface */
        #testInterface {
            display: none;
            height: 100vh;
            flex-direction: column;
        }

        /* Header - Compact Design */
        .test-header {
            background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);
            color: white;
            padding: 8px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            flex-shrink: 0;
            min-height: 50px;
        }

        .brand-info h1 {
            font-size: 18px;
            margin-bottom: 0;
            font-weight: 600;
        }

        .brand-info p {
            font-size: 11px;
            opacity: 0.85;
            margin-top: 2px;
        }

        .navigation {
            display: flex;
            gap: 8px;
        }

        .nav-btn {
            padding: 6px 16px;
            background: white;
            color: #ff4444;
            border: 2px solid white;
            border-radius: 6px;
            font-weight: bold;
            font-size: 13px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: translateY(-2px);
        }

        .nav-btn.active {
            background: #ff4444;
            color: white;
            border-color: white;
        }

        .student-info {
            text-align: right;
        }

        .student-info p {
            font-size: 12px;
            opacity: 0.85;
            line-height: 1.3;
        }

        /* Main Content */
        .test-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .passage-container {
            display: none;
            flex: 1;
            flex-direction: column;
            overflow: hidden;
        }

        .passage-container.active {
            display: flex;
        }

        /* Split Screen Layout */
        .reading-section {
            flex: 0 0 40%;
            overflow-y: auto;
            padding: 20px 25px;
            background: white;
            border-bottom: 3px solid #ff4444;
        }

        .reading-section h2 {
            color: #ff4444;
            margin-bottom: 15px;
            font-size: 19px;
            border-bottom: 2px solid #ff4444;
            padding-bottom: 6px;
            font-weight: 600;
        }

        .reading-section h3 {
            color: #ff4444;
            margin-top: 15px;
            margin-bottom: 8px;
            font-size: 16px;
            font-weight: 600;
        }

        .reading-section p {
            line-height: 1.7;
            margin-bottom: 12px;
            color: #333;
            font-size: 15px;
        }

        .questions-section {
            flex: 0 0 60%;
            overflow-y: auto;
            padding: 20px 25px;
            background: #fff;
        }

        .question {
            background: white;
            padding: 18px;
            margin-bottom: 15px;
            border-radius: 10px;
            border: 2px solid #ff4444;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
        }

        .question:hover {
            box-shadow: 0 4px 12px rgba(255, 68, 68, 0.2);
        }

        .question-number {
            color: #ff4444;
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 10px;
        }

        .question-text {
            font-size: 15px;
            margin-bottom: 12px;
            color: #333;
            font-weight: 500;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            background: white;
        }

        .option:hover {
            border-color: #ff4444;
            background: #fff5f5;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #ff4444;
            background: #ffe5e5;
            box-shadow: 0 0 10px rgba(255, 68, 68, 0.3);
        }

        .option input[type="radio"] {
            width: 20px;
            height: 20px;
            margin-right: 12px;
            cursor: pointer;
            accent-color: #ff4444;
        }

        .option label {
            cursor: pointer;
            font-size: 15px;
            color: #333;
            flex: 1;
        }

        /* Submit Section */
        .submit-section {
            padding: 15px 30px;
            text-align: center;
            background: white;
            border-top: 3px solid #ff4444;
            flex-shrink: 0;
        }

        .submit-btn {
            padding: 12px 45px;
            background: #ff4444;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .submit-btn:hover {
            background: #cc0000;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 68, 68, 0.4);
        }

        /* Results Screen */
        #resultsScreen {
            display: none;
            flex-direction: column;
            height: 100vh;
            background: white;
        }

        .results-header {
            background: linear-gradient(135deg, #ff4444 0%, #cc0000 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .results-header h1 {
            font-size: 32px;
            margin-bottom: 10px;
        }

        .results-content {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
        }

        .answer-sheet {
            background: white;
            border: 3px solid #ff4444;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .passage-results {
            margin-bottom: 30px;
        }

        .passage-title {
            color: #ff4444;
            font-size: 22px;
            margin-bottom: 20px;
            border-bottom: 2px solid #ff4444;
            padding-bottom: 10px;
        }

        .answer-item {
            padding: 15px;
            margin-bottom: 10px;
            background: #f9f9f9;
            border-left: 4px solid #ff4444;
            border-radius: 4px;
        }

        .answer-item strong {
            color: #ff4444;
        }

        .results-actions {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .save-pdf-btn {
            background: #ff4444;
            color: white;
        }

        .save-pdf-btn:hover {
            background: #cc0000;
            transform: translateY(-2px);
        }

        .copy-btn {
            background: white;
            color: #ff4444;
            border: 2px solid #ff4444;
        }

        .copy-btn:hover {
            background: #ff4444;
            color: white;
        }

        /* Proctoring System */
        #proctoringModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            z-index: 10000;
            justify-content: center;
            align-items: center;
        }

        .proctoring-content {
            background: white;
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            border: 3px solid #ff4444;
        }

        .proctoring-content h2 {
            color: #ff4444;
            margin-bottom: 20px;
            font-size: 28px;
        }

        .proctoring-content p {
            margin-bottom: 30px;
            color: #333;
            font-size: 16px;
        }

        .proctoring-content input {
            width: 100%;
            padding: 15px;
            border: 2px solid #ff4444;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 20px;
        }

        .proctoring-content button {
            width: 100%;
            padding: 15px;
            background: #ff4444;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
        }

        .proctoring-content button:hover {
            background: #cc0000;
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .welcome-card {
                padding: 30px 20px;
            }

            .logo {
                font-size: 36px;
            }

            .test-header {
                flex-direction: column;
                gap: 10px;
                padding: 10px 15px;
            }

            .brand-info h1 {
                font-size: 16px;
            }

            .brand-info p {
                font-size: 10px;
            }

            .navigation {
                width: 100%;
                justify-content: center;
            }

            .nav-btn {
                flex: 1;
                padding: 6px 10px;
                font-size: 12px;
            }

            .student-info p {
                font-size: 11px;
            }

            .reading-section {
                flex: 0 0 35%;
                padding: 15px;
            }

            .reading-section h2 {
                font-size: 17px;
                margin-bottom: 10px;
            }

            .reading-section h3 {
                font-size: 15px;
                margin-top: 12px;
            }

            .reading-section p {
                font-size: 14px;
                line-height: 1.6;
            }

            .questions-section {
                flex: 0 0 65%;
                padding: 15px;
            }

            .question {
                padding: 15px;
                margin-bottom: 12px;
            }

            .question-number {
                font-size: 15px;
            }

            .question-text {
                font-size: 14px;
            }

            .option {
                padding: 10px;
            }

            .option label {
                font-size: 13px;
            }

            .submit-section {
                padding: 12px 20px;
            }

            .submit-btn {
                padding: 10px 35px;
                font-size: 15px;
            }

            .results-content {
                padding: 20px;
            }

            .answer-sheet {
                padding: 20px;
            }

            .action-btn {
                width: 100%;
            }
        }

        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #ff4444;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #cc0000;
        }
    </style>
</head>
<body>
    <!-- Welcome Screen -->
    <div id="welcomeScreen">
        <div class="welcome-card">
            <div class="logo">EDUNEST</div>
            <div class="subtitle">A1 English Reading Test</div>
            
            <div class="input-group">
                <label for="studentName">Student Name:</label>
                <input type="text" id="studentName" placeholder="Enter your name" required>
            </div>
            
            <div class="input-group">
                <label for="password">Password:</label>
                <input type="password" id="password" placeholder="Enter password" required>
            </div>
            
            <div class="error-message" id="errorMessage">Incorrect password. Please try again.</div>
            
            <button class="start-btn" id="startBtn" disabled>Start Test</button>
            
            <div class="creator-label">Created by: Muslima</div>
        </div>
    </div>

    <!-- Test Interface -->
    <div id="testInterface">
        <!-- Header -->
        <div class="test-header">
            <div class="brand-info">
                <h1>EDUNEST</h1>
                <p>A1 English Reading Test</p>
            </div>
            <div class="navigation">
                <button class="nav-btn active" onclick="showPassage(1)">Passage 1</button>
                <button class="nav-btn" onclick="showPassage(2)">Passage 2</button>
            </div>
            <div class="student-info">
                <p><strong>Student:</strong> <span id="studentNameDisplay"></span></p>
                <p style="font-size: 12px; margin-top: 5px; opacity: 0.8;">Created by: Muslima</p>
            </div>
        </div>

        <!-- Test Content -->
        <div class="test-content">
            <!-- Passage 1 -->
            <div class="passage-container active" id="passage1">
                <div class="reading-section">
                    <h2>Traditions around the world</h2>
                    
                    <h3>The Kukeri Festival</h3>
                    <p>The Kukeri Festival is one of the oldest traditions in Bulgaria. It happens every year in winter. Men wear special costumes and wear big, scary masks that look like animals. The men dance and make loud noises with bells. They do this to scare away bad spirits and bring good luck for the new year. The Kukeri Festival is very colourful and exciting. People come from around the world to see it. The festival is a big part of Bulgarian culture and helps keep old traditions alive.</p>

                    <h3>The Day of the Dead</h3>
                    <p>The Day of the Dead is a special holiday in Mexico. It happens every year on November 1st and 2nd. People remember and honour their family members who have died. They believe that on these days, their spirits come back to visit. Families make altars with photos, flowers, candles, and food. Bread of the Dead is a popular recipe. Some people also paint their faces to look like skeletons and dress in colourful clothes. The Day of the Dead is a happy celebration, not a sad one. It is a way to celebrate life and remember the past.</p>

                    <h3>La Tomatina</h3>
                    <p>Every year, on the last Wednesday of August, the quiet village of Buñol, Spain, becomes busy and full of people. Everyone goes out to the streets to throw tomatoes at each other. It is a big, fun food fight! The festival lasts about one hour, and everyone gets very dirty, so they all wear old clothes. Before the tomato fight, there are other activities, like parades and music. After the battle, the streets are covered in tomato juice, but they get cleaned.</p>
                </div>

                <div class="questions-section">
                    <div class="question">
                        <div class="question-number">Question 1</div>
                        <div class="question-text">Which festival celebrates the visit of spirits?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q1" value="A" id="q1a">
                                <label for="q1a">A. The Kukeri Festival</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q1" value="B" id="q1b">
                                <label for="q1b">B. The Day of the Dead</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q1" value="C" id="q1c">
                                <label for="q1c">C. La Tomatina</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 2</div>
                        <div class="question-text">At which festival do people hide their faces?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q2" value="A" id="q2a">
                                <label for="q2a">A. The Kukeri Festival</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q2" value="B" id="q2b">
                                <label for="q2b">B. The Day of the Dead</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q2" value="C" id="q2c">
                                <label for="q2c">C. La Tomatina</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 3</div>
                        <div class="question-text">Which festival is popular among tourists?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q3" value="A" id="q3a">
                                <label for="q3a">A. The Kukeri Festival</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q3" value="B" id="q3b">
                                <label for="q3b">B. The Day of the Dead</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q3" value="C" id="q3c">
                                <label for="q3c">C. La Tomatina</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 4</div>
                        <div class="question-text">Which festival is the shortest?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q4" value="A" id="q4a">
                                <label for="q4a">A. The Kukeri Festival</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q4" value="B" id="q4b">
                                <label for="q4b">B. The Day of the Dead</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q4" value="C" id="q4c">
                                <label for="q4c">C. La Tomatina</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 5</div>
                        <div class="question-text">Which festival happens at the beginning of the year?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q5" value="A" id="q5a">
                                <label for="q5a">A. The Kukeri Festival</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q5" value="B" id="q5b">
                                <label for="q5b">B. The Day of the Dead</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q5" value="C" id="q5c">
                                <label for="q5c">C. La Tomatina</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 6</div>
                        <div class="question-text">At which festival do people need to clean?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q6" value="A" id="q6a">
                                <label for="q6a">A. The Kukeri Festival</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q6" value="B" id="q6b">
                                <label for="q6b">B. The Day of the Dead</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q6" value="C" id="q6c">
                                <label for="q6c">C. La Tomatina</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 7</div>
                        <div class="question-text">Which festival is about the past?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q7" value="A" id="q7a">
                                <label for="q7a">A. The Kukeri Festival</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q7" value="B" id="q7b">
                                <label for="q7b">B. The Day of the Dead</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q7" value="C" id="q7c">
                                <label for="q7c">C. La Tomatina</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 8</div>
                        <div class="question-text">At which festival do people cook food?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q8" value="A" id="q8a">
                                <label for="q8a">A. The Kukeri Festival</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q8" value="B" id="q8b">
                                <label for="q8b">B. The Day of the Dead</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q8" value="C" id="q8c">
                                <label for="q8c">C. La Tomatina</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Passage 2 -->
            <div class="passage-container" id="passage2">
                <div class="reading-section">
                    <h2>A day in the life of an airline pilot</h2>
                    
                    <p>Carole is an aeroplane pilot. She usually works during the week and has weekends off, but she sometimes works Saturdays or Sundays. When Carol has to work, her day usually starts very early in the morning. She wakes up at 4 a.m. and gets ready for work. She has a shower and gets dressed. She wears a uniform. At 4.30, Carole has cereal with milk and drinks a large coffee. After that, she packs her flight bag for the day.</p>

                    <p>At 5 o'clock, she gets in her car and drives to the airport. Before the flight, she meets the rest of her crew. The first officer helps her fly the plane and the cabin crew look after the passengers during the flight. They talk about the weather while they get on board the plane all together.</p>

                    <p>During the flight, the cabin crew give food and drinks to the passengers. Carole talks to the passengers. She gives them some information about the flight. She tells them how long the flight is, how fast they fly and how high they are. When they land at their destination, Carole says goodbye to the passengers and meets her crew to check if everything is OK. After work, Carol drives home.</p>

                    <p>Carol arrives home at 5 pm. At home, she does yoga for 30 minutes to relax. Then, she cooks some food and has dinner at 7 pm. After dinner, she checks her emails for 45 minutes. Flying a plane is very tiring and Carol goes to bed very early, at 9 pm. Sometimes, she reads a book for one hour before sleeping.</p>
                </div>

                <div class="questions-section">
                    <div class="question">
                        <div class="question-number">Question 1</div>
                        <div class="question-text">How many days does Carole normally fly every week?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q9" value="A" id="q9a">
                                <label for="q9a">A. two</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q9" value="B" id="q9b">
                                <label for="q9b">B. four</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q9" value="C" id="q9c">
                                <label for="q9c">C. five</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 2</div>
                        <div class="question-text">What does Carole do at 4.30?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q10" value="A" id="q10a">
                                <label for="q10a">A. She wakes up</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q10" value="B" id="q10b">
                                <label for="q10b">B. She eats breakfast</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q10" value="C" id="q10c">
                                <label for="q10c">C. She packs her bag</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 3</div>
                        <div class="question-text">What do Carole and her crew talk about?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q11" value="A" id="q11a">
                                <label for="q11a">A. the plane</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q11" value="B" id="q11b">
                                <label for="q11b">B. the weather</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q11" value="C" id="q11c">
                                <label for="q11c">C. the passengers</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 4</div>
                        <div class="question-text">What does Carole NOT mention to the passengers?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q12" value="A" id="q12a">
                                <label for="q12a">A. The duration of the flight.</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q12" value="B" id="q12b">
                                <label for="q12b">B. Information about the destination.</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q12" value="C" id="q12c">
                                <label for="q12c">C. The speed.</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 5</div>
                        <div class="question-text">After the flight, Carole ______.</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q13" value="A" id="q13a">
                                <label for="q13a">A. says goodbye to the passengers</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q13" value="B" id="q13b">
                                <label for="q13b">B. says goodbye to the crew</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q13" value="C" id="q13c">
                                <label for="q13c">C. checks if the plane is OK</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 6</div>
                        <div class="question-text">When does Carole cook dinner?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q14" value="A" id="q14a">
                                <label for="q14a">A. before going to bed</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q14" value="B" id="q14b">
                                <label for="q14b">B. while watching TV</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q14" value="C" id="q14c">
                                <label for="q14c">C. after doing yoga</label>
                            </div>
                        </div>
                    </div>

                    <div class="question">
                        <div class="question-number">Question 7</div>
                        <div class="question-text">How long does Carole read her book for?</div>
                        <div class="options">
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q15" value="A" id="q15a">
                                <label for="q15a">A. 30 minutes</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q15" value="B" id="q15b">
                                <label for="q15b">B. 45 minutes</label>
                            </div>
                            <div class="option" onclick="selectOption(this)">
                                <input type="radio" name="q15" value="C" id="q15c">
                                <label for="q15c">C. 60 minutes</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Submit Section -->
        <div class="submit-section">
            <button class="submit-btn" onclick="submitTest()">Submit Test</button>
        </div>
    </div>

    <!-- Results Screen -->
    <div id="resultsScreen">
        <div class="results-header">
            <h1>EDUNEST - Test Results</h1>
            <p>Student: <span id="resultStudentName"></span></p>
        </div>
        <div class="results-content">
            <div class="answer-sheet" id="answerSheet">
                <!-- Answers will be inserted here -->
            </div>
            <div class="results-actions">
                <button class="action-btn save-pdf-btn" onclick="saveToPDF()">Save as PDF</button>
                <button class="action-btn copy-btn" onclick="copyAnswers()">Copy Answers</button>
            </div>
        </div>
    </div>

    <!-- Proctoring Modal -->
    <div id="proctoringModal">
        <div class="proctoring-content">
            <h2>⚠️ Test Violation Detected</h2>
            <p>You have left the test window. Please enter the reactivation code to continue.</p>
            <input type="password" id="reactivationCode" placeholder="Enter reactivation code">
            <button onclick="validateReactivationCode()">Continue Test</button>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Constants
        const CORRECT_PASSWORD = '2211';
        const REACTIVATION_CODE = '0227';
        let studentName = '';
        let isTestActive = false;

        // Initialize
        document.getElementById('studentName').addEventListener('input', updateStartButton);
        document.getElementById('password').addEventListener('input', updateStartButton);
        document.getElementById('password').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('startBtn').click();
            }
        });

        function updateStartButton() {
            const name = document.getElementById('studentName').value.trim();
            const password = document.getElementById('password').value;
            document.getElementById('startBtn').disabled = !(name && password);
        }

        document.getElementById('startBtn').addEventListener('click', function() {
            const name = document.getElementById('studentName').value.trim();
            const password = document.getElementById('password').value;
            
            if (password === CORRECT_PASSWORD) {
                studentName = name;
                startTest();
            } else {
                document.getElementById('errorMessage').style.display = 'block';
                document.getElementById('password').value = '';
                document.getElementById('password').focus();
            }
        });

        function startTest() {
            document.getElementById('welcomeScreen').style.display = 'none';
            document.getElementById('testInterface').style.display = 'flex';
            document.getElementById('studentNameDisplay').textContent = studentName;
            
            // Enter fullscreen
            enterFullscreen();
            isTestActive = true;
            
            // Start proctoring
            startProctoring();
        }

        function enterFullscreen() {
            const elem = document.documentElement;
            if (elem.requestFullscreen) {
                elem.requestFullscreen();
            } else if (elem.webkitRequestFullscreen) {
                elem.webkitRequestFullscreen();
            } else if (elem.msRequestFullscreen) {
                elem.msRequestFullscreen();
            }
        }

        // Proctoring System
        function startProctoring() {
            // Detect window blur (switching tabs/apps)
            window.addEventListener('blur', handleViolation);
            
            // Detect fullscreen exit
            document.addEventListener('fullscreenchange', handleFullscreenChange);
            document.addEventListener('webkitfullscreenchange', handleFullscreenChange);
            document.addEventListener('mozfullscreenchange', handleFullscreenChange);
            document.addEventListener('MSFullscreenChange', handleFullscreenChange);
            
            // Detect visibility change
            document.addEventListener('visibilitychange', handleVisibilityChange);
        }

        function handleViolation() {
            if (isTestActive && !document.getElementById('proctoringModal').style.display) {
                showProctoringModal();
            }
        }

        function handleFullscreenChange() {
            if (isTestActive && !document.fullscreenElement && !document.webkitFullscreenElement) {
                showProctoringModal();
            }
        }

        function handleVisibilityChange() {
            if (isTestActive && document.hidden) {
                showProctoringModal();
            }
        }

        function showProctoringModal() {
            document.getElementById('proctoringModal').style.display = 'flex';
            document.getElementById('reactivationCode').value = '';
            document.getElementById('reactivationCode').focus();
        }

        function validateReactivationCode() {
            const code = document.getElementById('reactivationCode').value;
            if (code === REACTIVATION_CODE) {
                document.getElementById('proctoringModal').style.display = 'none';
                enterFullscreen();
            } else {
                alert('Incorrect reactivation code. Please try again.');
                document.getElementById('reactivationCode').value = '';
                document.getElementById('reactivationCode').focus();
            }
        }

        // Navigation
        function showPassage(passageNum) {
            document.querySelectorAll('.passage-container').forEach(container => {
                container.classList.remove('active');
            });
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById('passage' + passageNum).classList.add('active');
            event.target.classList.add('active');
        }

        // Option Selection
        function selectOption(optionElement) {
            const radio = optionElement.querySelector('input[type="radio"]');
            radio.checked = true;
            
            // Remove selected class from siblings
            optionElement.parentElement.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            optionElement.classList.add('selected');
        }

        // Submit Test
        function submitTest() {
            if (!confirm('Are you sure you want to submit your test?')) {
                return;
            }
            
            isTestActive = false;
            
            // Collect answers
            const answers = [];
            
            // Passage 1 (8 questions)
            for (let i = 1; i <= 8; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                answers.push({
                    passage: 1,
                    question: i,
                    answer: selected ? selected.value : 'Not answered'
                });
            }
            
            // Passage 2 (7 questions)
            for (let i = 9; i <= 15; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                answers.push({
                    passage: 2,
                    question: i - 8,
                    answer: selected ? selected.value : 'Not answered'
                });
            }
            
            // Show results
            showResults(answers);
        }

        function showResults(answers) {
            document.getElementById('testInterface').style.display = 'none';
            document.getElementById('resultsScreen').style.display = 'flex';
            document.getElementById('resultStudentName').textContent = studentName;
            
            // Generate answer sheet
            let html = '<div class="passage-results">';
            html += '<div class="passage-title">Passage 1: Traditions around the world</div>';
            
            answers.slice(0, 8).forEach((item, index) => {
                html += `<div class="answer-item">
                    <strong>Question ${item.question}:</strong> ${item.answer}
                </div>`;
            });
            
            html += '</div><div class="passage-results">';
            html += '<div class="passage-title">Passage 2: A day in the life of an airline pilot</div>';
            
            answers.slice(8).forEach((item, index) => {
                html += `<div class="answer-item">
                    <strong>Question ${item.question}:</strong> ${item.answer}
                </div>`;
            });
            
            html += '</div>';
            
            document.getElementById('answerSheet').innerHTML = html;
            
            // Exit fullscreen
            if (document.exitFullscreen) {
                document.exitFullscreen();
            }
        }

        // Save to PDF
        function saveToPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            // Add content
            doc.setFontSize(20);
            doc.setTextColor(255, 68, 68);
            doc.text('EDUNEST - A1 Reading Test Results', 20, 20);
            
            doc.setFontSize(12);
            doc.setTextColor(0, 0, 0);
            doc.text(`Student: ${studentName}`, 20, 35);
            doc.text(`Date: ${new Date().toLocaleDateString()}`, 20, 42);
            
            let yPos = 55;
            
            // Passage 1
            doc.setFontSize(14);
            doc.setTextColor(255, 68, 68);
            doc.text('Passage 1: Traditions around the world', 20, yPos);
            yPos += 10;
            
            doc.setFontSize(11);
            doc.setTextColor(0, 0, 0);
            
            for (let i = 1; i <= 8; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                const answer = selected ? selected.value : 'Not answered';
                doc.text(`Question ${i}: ${answer}`, 25, yPos);
                yPos += 7;
            }
            
            yPos += 5;
            
            // Passage 2
            doc.setFontSize(14);
            doc.setTextColor(255, 68, 68);
            doc.text('Passage 2: A day in the life of an airline pilot', 20, yPos);
            yPos += 10;
            
            doc.setFontSize(11);
            doc.setTextColor(0, 0, 0);
            
            for (let i = 9; i <= 15; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                const answer = selected ? selected.value : 'Not answered';
                doc.text(`Question ${i - 8}: ${answer}`, 25, yPos);
                yPos += 7;
            }
            
            // Add footer
            doc.setFontSize(9);
            doc.setTextColor(150, 150, 150);
            doc.text('Created by: Muslima', 20, 285);
            
            doc.save(`${studentName}_Reading_Test.pdf`);
        }

        // Copy Answers
        function copyAnswers() {
            let text = `EDUNEST - A1 Reading Test Results\n`;
            text += `Student: ${studentName}\n`;
            text += `Date: ${new Date().toLocaleDateString()}\n\n`;
            
            text += `Passage 1: Traditions around the world\n`;
            for (let i = 1; i <= 8; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                const answer = selected ? selected.value : 'Not answered';
                text += `Question ${i}: ${answer}\n`;
            }
            
            text += `\nPassage 2: A day in the life of an airline pilot\n`;
            for (let i = 9; i <= 15; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                const answer = selected ? selected.value : 'Not answered';
                text += `Question ${i - 8}: ${answer}\n`;
            }
            
            text += `\nCreated by: Muslima`;
            
            navigator.clipboard.writeText(text).then(() => {
                alert('Answers copied to clipboard!');
            });
        }
    </script>
</body>
</html>